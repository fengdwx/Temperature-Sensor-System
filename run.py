# -*- coding:utf-8 -*-import timeimport serialimport MySQLdbfrom flask import Flask,render_templatefrom flask.ext.script import Manager# 打开串口ser = serial.Serial(     port='COM3',    baudrate=4800,    timeout=0.3,)# 读取数据,第一次写入数据进行初始化，第二次进行读取first_write = ser.write('r')second_write = ser.write('r')initial_data = ser.readlines()# 获取时间current_time = time.strftime("%Y-%m-%d %H:%M:%S")# 进行数据选取temperature_data = (initial_data[3], current_time, initial_data[2])# 连接数据库conn = MySQLdb.connect(    host='localhost',    port=3306,    user='root',    passwd='5266',    db='scm',    charset='utf-8')cur = conn.cursor()# 将数据存入数据库，并关闭连接cur.execute("insert into CentiScm (id,current_time,temperature) values (%s,%s,%s)", temperature_data)cur.close()conn.commit()conn.close()coordinate = "三楼东北角传感器"# 网页显示app = Flask(__name__)manager = Manager(app)# url@app.route('/temperature')def index():    return render_template('temperature.html',                           id=initial_data[3],                           time=current_time,                           temperature=initial_data[2],                           coordinate=coordinate)# 启动服务器if __name__ == '__main__':    app.run(debug=True), 200